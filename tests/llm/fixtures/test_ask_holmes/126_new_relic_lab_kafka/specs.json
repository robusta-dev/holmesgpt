[
  {
    "name": "Baseline",
    "seed": 101,
    "common": {
      "namespace": "retail",
      "k8sNamespace": "app-126",
      "zone": "us-east-1a",
      "version": "1.2.3"
    },
    "distributions": {
      "country": {"US": 0.4, "UK": 0.2, "DE": 0.1, "FR": 0.1, "IL": 0.1, "IN": 0.05, "BR": 0.05},
      "device": {"mobile": 0.6, "desktop": 0.35, "tablet": 0.05},
      "paymentMethod": {"credit_card": 0.6, "paypal": 0.25, "bnpl": 0.15},
      "category": {"electronics": 0.35, "clothing": 0.3, "groceries": 0.2, "home": 0.15},
      "userType": {"guest": 0.5, "logged_in": 0.3, "premium": 0.2}
    },
    "session_cardinality_rate": 0.3,
    "sku_cardinality_rate": 0.2,
    "metrics": [
      {"name": "retail.orders.placed.count", "type": "count", "min": 320, "max": 420},
      {"name": "retail.revenue.cents.sum", "type": "gauge", "min": 4200000, "max": 7200000},
      {"name": "retail.cart.abandonment.ratio", "type": "gauge", "min": 0.06, "max": 0.12},
      {"name": "retail.http.duration.ms", "type": "gauge", "min": 120, "max": 220},
      {"name": "retail.http.requests.count", "type": "count", "min": 650, "max": 820},
      {"name": "retail.kafka.consumer.backlog.messages", "type": "gauge", "min": 0, "max": 2},
      {"name": "retail.txn.publish.delay.ms", "type": "gauge", "min": 30, "max": 120},
      {"name": "retail.k8s.pod.restarts.count", "type": "count", "min": 0, "max": 1},
      {"name": "retail.node.cpu.utilization.pct", "type": "gauge", "min": 0.25, "max": 0.45},
      {"name": "retail.node.mem.working_set.bytes", "type": "gauge", "min": 8000000000, "max": 14000000000}
    ],
    "traces": [
      {
        "traceName": "BrowseProduct",
        "spans": [
          {
            "name": "frontend",
            "service": "frontend",
            "route": "/browse",
            "method": "GET",
            "min_ms": 40,
            "max_ms": 110,
            "delay_ms": [0, 10],
            "info_logs": [
              "GET /product start | user={userId} session={sessionId} sku={productSku}",
              "SSR render complete for sku={productSku} on device={device}"
            ],
            "warn_logs": []
          },
          {
            "name": "catalog",
            "service": "catalog",
            "min_ms": 60,
            "max_ms": 120,
            "delay_ms": [10, 30],
            "info_logs": [
              "catalog lookup ok | sku={productSku} region={zone}",
              "cache {productSku} hit=true"
            ],
            "warn_logs": []
          }
        ]
      },
      {
        "traceName": "AddToCart",
        "spans": [
          {
            "name": "frontend",
            "service": "frontend",
            "route": "/add-to-cart",
            "method": "POST",
            "min_ms": 50,
            "max_ms": 120,
            "delay_ms": [0, 10],
            "info_logs": [
              "POST /cart start | user={userId} session={sessionId} sku={productSku}",
              "validated request signature for session={sessionId}"
            ],
            "warn_logs": []
          },
          {
            "name": "cart",
            "service": "cart",
            "min_ms": 80,
            "max_ms": 150,
            "delay_ms": [10, 40],
            "info_logs": [
              "cart updated | user={userId} items+=1 sku={productSku}",
              "write succeeded | txn={txnId}"
            ],
            "warn_logs": []
          }
        ]
      },
      {
        "traceName": "Purchase (Guest/Free - Fast Path)",
        "spans": [
          {
            "name": "frontend",
            "service": "frontend",
            "route": "/purchase",
            "method": "POST",
            "min_ms": 70,
            "max_ms": 130,
            "delay_ms": [0, 10],
            "attributes": {"user.type": "guest"},
            "info_logs": [
              "purchase click | user={userId} session={sessionId} type=guest",
              "enqueue order event | topic=orders"
            ],
            "warn_logs": []
          },
          {
            "name": "orders-consumer",
            "service": "orders-consumer",
            "min_ms": 40,
            "max_ms": 90,
            "delay_ms": [5, 15],
            "attributes": {"consumer.group": "cg-orders-v1", "partitions": 8, "user.type": "guest"},
            "info_logs": ["consumed order event | offset+=1 processing=fast"],
            "warn_logs": []
          },
          {
            "name": "orders-ack",
            "service": "orders",
            "min_ms": 20,
            "max_ms": 50,
            "delay_ms": [5, 10],
            "attributes": {"path": "ack", "user.type": "guest"},
            "info_logs": ["order acknowledged | user={userId}"],
            "warn_logs": []
          }
        ]
      }
    ],
    "trace_rate_per_min": 120,
    "transactions": {
      "kpi": { "amount": { "min": 15.0, "max": 350.0 }, "cartSize": { "min": 1, "max": 5 } },
      "attrs": { "flow": "baseline", "delayed": false }
    },
    "txn_rate_per_min": 360,
    "logs": {
      "service_name": "frontend",
      "info_rate_per_min": 240,
      "warn_rate_per_min": 30,
      "info_messages": [
        "baseline tick ok | session={sessionId}",
        "user navigated to /product | user={userId} sku={productSku}",
        "content rendered | ttfb_ms=92"
      ],
      "warn_messages": [
        "recs cache miss | sku={productSku}, model=recs_v1 (warming)",
        "retrying slow dependency catalog | attempt=1"
      ]
    }
  },
  {
    "name": "C - Cart Abandonment Rising (Premium Purchases Blocked on DB Write)",
    "seed": 402,
    "common": { "namespace": "retail", "k8sNamespace": "app-126", "zone": "us-east-1a", "version": "1.2.3" },
    "distributions": {
      "userType": {"guest": 0.45, "logged_in": 0.25, "premium": 0.30},
      "paymentMethod": {"credit_card": 0.55, "paypal": 0.25, "bnpl": 0.20}
    },
    "metrics": [
      { "name": "retail.kafka.consumer.backlog.messages", "type": "gauge", "min": 20000, "max": 50000 },
      { "name": "retail.txn.publish.delay.ms", "type": "gauge", "min": 1500, "max": 4200 },
      { "name": "retail.checkout.duration.ms", "type": "gauge", "min": 380, "max": 1200 },
      { "name": "retail.cart.abandonment.ratio", "type": "gauge", "min": 0.32, "max": 0.58 },
      { "name": "retail.orders.placed.count", "type": "count", "min": 140, "max": 220 }
    ],
    "traces": [
      {
        "traceName": "Purchase (Premium - Waiting on DB Write)",
        "spans": [
          {
            "name": "frontend",
            "service": "frontend",
            "route": "/purchase",
            "method": "POST",
            "min_ms": 90,
            "max_ms": 160,
            "delay_ms": [0, 10],
            "attributes": {"user.type": "premium"},
            "info_logs": [
              "purchase click | user={userId} session={sessionId} type=premium",
              "enqueue order event | topic=orders"
            ],
            "warn_logs": [
              "user still on checkout | wait_ms=~{retail.txn.publish.delay.ms}"
            ]
          },
          {
            "name": "orders-consumer",
            "service": "orders-consumer",
            "min_ms": 220,
            "max_ms": 420,
            "delay_ms": [40, 100],
            "attributes": {
              "consumer.group": "cg-orders-v1",
              "topic": "orders",
              "partitions": 8,
              "user.type": "premium",
              "queue.depth": 30000
            },
            "info_logs": [
              "picked order from queue | depth=~{queue.depth}",
              "processing premium purchase | user={userId}"
            ],
            "warn_logs": [
              "downstream write not immediately available | deferring commit",
              "consumer throughput reduced by slow database response"
            ]
          },
          {
            "name": "orders-db",
            "service": "orders-db",
            "min_ms": 1600,
            "max_ms": 3600,
            "delay_ms": [80, 160],
            "attributes": {
              "db.system": "postgresql",
              "db.operation": "INSERT",
              "db.lock.type": "row",
              "db.lock.wait_ms": 1200,
              "db.lock.blocked": true,
              "user.type": "premium"
            },
            "info_logs": [
              "waiting on row lock | key=order:{orderId}",
              "lock acquired | waited_ms=~{db.lock.wait_ms}"
            ],
            "warn_logs": [
              "writer blocked by concurrent transaction | state=waiting",
              "commit delayed due to lock hold time | elapsed_ms>1800"
            ]
          },
          {
            "name": "purchase-complete",
            "service": "orders",
            "min_ms": 40,
            "max_ms": 90,
            "delay_ms": [5, 15],
            "attributes": {"state": "completed", "user.type": "premium"},
            "info_logs": ["order persisted after wait | order={orderId}"],
            "warn_logs": []
          }
        ]
      },
      {
        "traceName": "Purchase (Guest/Free - Fast Path)",
        "spans": [
          {
            "name": "frontend",
            "service": "frontend",
            "route": "/purchase",
            "method": "POST",
            "min_ms": 70,
            "max_ms": 130,
            "delay_ms": [0, 10],
            "attributes": {"user.type": "guest"},
            "info_logs": [
              "purchase click | user={userId} type=guest",
              "enqueue order event | topic=orders"
            ],
            "warn_logs": []
          },
          {
            "name": "orders-consumer",
            "service": "orders-consumer",
            "min_ms": 40,
            "max_ms": 90,
            "delay_ms": [5, 15],
            "attributes": {"consumer.group": "cg-orders-v1", "user.type": "guest"},
            "info_logs": ["processed with cache-only flow | user={userId}"],
            "warn_logs": []
          },
          {
            "name": "purchase-complete",
            "service": "orders",
            "min_ms": 20,
            "max_ms": 50,
            "delay_ms": [5, 10],
            "attributes": {"state": "completed", "user.type": "guest"},
            "info_logs": ["order acknowledged | user={userId}"],
            "warn_logs": []
          }
        ]
      }
    ],
    "trace_rate_per_min": 95,
    "transactions": {
      "kpi": { "amount": { "min": 5.0, "max": 250.0 }, "cartSize": { "min": 1, "max": 4 } },
      "attrs": { "flow": "purchase-delayed-by-db-write", "delayed": true }
    },
    "txn_rate_per_min": 200,
    "logs": {
      "service_name": "orders-consumer",
      "info_rate_per_min": 80,
      "warn_rate_per_min": 130,
      "info_messages": [
        "queue depth increased | current=~{retail.kafka.consumer.backlog.messages}",
        "processing slowed by downstream database",
        "premium purchase queued | user={userId}"
      ],
      "warn_messages": [
        "database write waiting on lock | writer paused",
        "transaction wait threshold exceeded | wait_ms>1500",
        "contention observed | insert taking unusually long"
      ]
    }
  }
]
