[
  {
    "name": "A - Checkout Slowness (PayPal)",
    "seed": 201,
    "common": { "namespace": "retail", "k8sNamespace": "frontend", "zone": "us-east-1a", "version": "1.2.3" },
    "distributions": {
      "country": {"US": 0.4, "UK": 0.2, "DE": 0.1, "FR": 0.1, "IL": 0.1, "IN": 0.05, "BR": 0.05},
      "device": {"mobile": 0.6, "desktop": 0.35, "tablet": 0.05},
      "paymentMethod": {"credit_card": 0.3, "paypal": 0.6, "bnpl": 0.1},
      "category": {"electronics": 0.35, "clothing": 0.3, "groceries": 0.2, "home": 0.15}
    },
    "session_cardinality_rate": 0.35,
    "sku_cardinality_rate": 0.22,
    "metrics": [
      {"name": "retail.http.duration.ms", "type": "gauge", "min": 180, "max": 420},
      {"name": "retail.payment.failures.count", "type": "count", "min": 2, "max": 10}
    ],
    "traces": [
      {
        "traceName": "Checkout",
        "spans": [
          {
            "name": "frontend",
            "service": "frontend",
            "route": "/pay",
            "method": "GET",
            "min_ms": 60,
            "max_ms": 140,
            "delay_ms": [0, 10],
            "info_logs": [
              "paypal checkout start | user={userId} session={sessionId}",
              "redirecting to PayPal | order={orderId}"
            ],
            "warn_logs": []
          },
          {
            "name": "payments-checkout-124",
            "service": "payments-checkout-124",
            "min_ms": 90,
            "max_ms": 220,
            "delay_ms": [10, 30],
            "info_logs": ["address verified | order={orderId} user={userId}"],
            "warn_logs": []
          },
          {
            "name": "payments",
            "service": "payments",
            "min_ms": 280,
            "max_ms": 650,
            "delay_ms": [30, 120],
            "error_prob": 0.08,
            "info_logs": [
              "PayPal gateway response slow | payment={paymentId} order={orderId} elapsed_ms=590",
              "waiting for PayPal confirmation | txn={txnId}"
            ],
            "warn_logs": [
              "PayPal timeout approaching | payment={paymentId} threshold_ms=600"
            ]
          },
          {
            "name": "orders",
            "service": "orders",
            "min_ms": 60,
            "max_ms": 150,
            "delay_ms": [10, 20],
            "info_logs": ["order queued | order={orderId} state=pending-payment"],
            "warn_logs": []
          }
        ]
      }
    ],
    "trace_rate_per_min": 100,
    "transactions": { "kpi": { "amount": { "min": 15.0, "max": 320.0 }, "cartSize": { "min": 1, "max": 4 } }, "attrs": { "flow": "paypal-slow" } },
    "txn_rate_per_min": 300,
    "logs": {
      "service_name": "payments-checkout-124",
      "info_rate_per_min": 180,
      "warn_rate_per_min": 60,
      "info_messages": [
        "payments-checkout-124 page loaded | user={userId} session={sessionId}",
        "paypal redirect sent | order={orderId}"
      ],
      "warn_messages": [
        "paypal latency high | p95_ms=620",
        "payment retry scheduled | order={orderId} attempt=1"
      ]
    }
  },
  {
    "name": "B - Payment 5xx After Deploy",
    "seed": 301,
    "common": { "namespace": "retail", "k8sNamespace": "backend", "zone": "us-east-1b", "version": "1.2.4" },
    "distributions": {
      "country": {"US": 0.35, "UK": 0.2, "DE": 0.12, "FR": 0.1, "IL": 0.11, "IN": 0.06, "BR": 0.06},
      "device": {"mobile": 0.58, "desktop": 0.37, "tablet": 0.05},
      "paymentMethod": {"credit_card": 0.55, "paypal": 0.25, "bnpl": 0.2},
      "category": {"electronics": 0.35, "clothing": 0.3, "groceries": 0.2, "home": 0.15}
    },
    "metrics": [
      {"name": "retail.http.duration.ms", "type": "gauge", "min": 160, "max": 300},
      {"name": "retail.payment.failures.count", "type": "count", "min": 6, "max": 20}
    ],
    "traces": [
      {
        "traceName": "Checkout",
        "spans": [
          {
            "name": "frontend",
            "service": "frontend",
            "route": "/pay",
            "method": "GET",
            "min_ms": 55,
            "max_ms": 120,
            "delay_ms": [0, 10],
            "info_logs": ["deploy 1.2.4 live | user={userId}"],
            "warn_logs": []
          },
          {
            "name": "payments-checkout-124",
            "service": "payments-checkout-124",
            "min_ms": 70,
            "max_ms": 180,
            "delay_ms": [10, 30],
            "info_logs": ["payments-checkout-124 ok | session={sessionId}"],
            "warn_logs": []
          },
          {
            "name": "payments",
            "service": "payments",
            "min_ms": 120,
            "max_ms": 260,
            "delay_ms": [20, 40],
            "error_prob": 0.25,
            "info_logs": [
              "payment error surge post-deploy | version=1.2.4 payment={paymentId} code=502",
              "circuit probe in progress | order={orderId}"
            ],
            "warn_logs": ["circuit half-open | endpoint=/charge"]
          },
          {
            "name": "orders",
            "service": "orders",
            "min_ms": 60,
            "max_ms": 140,
            "delay_ms": [10, 20],
            "info_logs": ["order write attempt | order={orderId}"],
            "warn_logs": []
          }
        ],
        "attributes": { "version": "1.2.4" }
      }
    ],
    "trace_rate_per_min": 110,
    "transactions": { "kpi": { "amount": { "min": 10.0, "max": 280.0 }, "cartSize": { "min": 1, "max": 4 } }, "attrs": { "flow": "payment-5xx" } },
    "txn_rate_per_min": 320,
    "logs": {
      "service_name": "payments",
      "info_rate_per_min": 120,
      "warn_rate_per_min": 120,
      "info_messages": [
        "deploy complete | version=1.2.4",
        "payments accepting traffic | sample payment={paymentId}"
      ],
      "warn_messages": [
        "5xx rate high | window=1m p95_ms=280",
        "rollout under watch | pager=oncall-payments"
      ]
    }
  },
  {
    "name": "C - Kafka Consumer Lag",
    "seed": 401,
    "common": { "namespace": "retail", "k8sNamespace": "infra", "zone": "us-east-1a", "version": "1.2.3" },
    "metrics": [
      {"name": "retail.kafka.consumer.lag", "type": "gauge", "min": 20000, "max": 50000},
      {"name": "retail.cart.abandonment.ratio", "type": "gauge", "min": 0.15, "max": 0.28}
    ],
    "traces": [
      {
        "traceName": "AddToCart",
        "spans": [
          {
            "name": "frontend",
            "service": "frontend",
            "route": "/add-to-cart",
            "method": "GET",
            "min_ms": 60,
            "max_ms": 140,
            "delay_ms": [0, 10],
            "info_logs": ["add-to-cart | user={userId} sku={productSku}"],
            "warn_logs": []
          },
          {
            "name": "cart",
            "service": "cart",
            "min_ms": 120,
            "max_ms": 260,
            "delay_ms": [10, 60],
            "info_logs": ["cart write delayed | txn={txnId} backlog>0"],
            "warn_logs": ["queue backlog growing | lag_msgs~{retail.kafka.consumer.lag}"]
          }
        ]
      }
    ],
    "trace_rate_per_min": 80,
    "transactions": {
      "kpi": { "amount": { "min": 5.0, "max": 250.0 }, "cartSize": { "min": 1, "max": 4 } },
      "attrs": { "flow": "consumer-lag", "delayed": true }
    },
    "txn_rate_per_min": 220,
    "logs": {
      "service_name": "cart",
      "info_rate_per_min": 60,
      "warn_rate_per_min": 90,
      "info_messages": [
        "cart event queued | txn={txnId}",
        "retry scheduled | txn={txnId} in=5s"
      ],
      "warn_messages": [
        "consumer lag rising | partition=7 lag=+1200",
        "processing delay detected | p95_ms=410"
      ]
    }
  },
  {
    "name": "D - Hot Shard (Affiliate Blast)",
    "seed": 501,
    "common": { "namespace": "retail", "k8sNamespace": "backend", "zone": "us-east-1a", "version": "1.2.3", "userType": "premium", "dbShard": "shard2" },
    "metrics": [
      {"name": "retail.db.slow_queries.count", "type": "count", "min": 20, "max": 45},
      {"name": "retail.db.query.duration.ms", "type": "gauge", "min": 180, "max": 380},
      {"name": "retail.node.cpu.utilization.pct", "type": "gauge", "min": 0.4, "max": 0.7},
      {"name": "retail.http.requests.count", "type": "count", "min": 720, "max": 920},
      {"name": "retail.orders.placed.count", "type": "count", "min": 500, "max": 650}
    ],
    "traces": [
      {
        "traceName": "Recommendation",
        "spans": [
          {
            "name": "frontend",
            "service": "frontend",
            "route": "/recs",
            "method": "GET",
            "min_ms": 60,
            "max_ms": 130,
            "delay_ms": [0, 10],
            "info_logs": [
              "GET /recs | premium user={userId}",
              "above-the-fold recs loaded"
            ],
            "warn_logs": []
          },
          {
            "name": "recs",
            "service": "recs",
            "min_ms": 120,
            "max_ms": 260,
            "delay_ms": [20, 60],
            "info_logs": [
              "affiliate traffic surge | campaign=aff-blast",
              "refresh recommendations | model=recs_v1"
            ],
            "warn_logs": ["cache miss surge | hot shard={dbShard}"]
          }
        ]
      },
      {
        "traceName": "Checkout",
        "spans": [
          {
            "name": "frontend",
            "service": "frontend",
            "route": "/pay",
            "method": "GET",
            "min_ms": 60,
            "max_ms": 130,
            "delay_ms": [0, 10],
            "info_logs": ["payments-checkout-124 view | user={userId} premium=true"],
            "warn_logs": []
          },
          {
            "name": "payments-checkout-124",
            "service": "payments-checkout-124",
            "min_ms": 100,
            "max_ms": 220,
            "delay_ms": [10, 30],
            "info_logs": ["promo applied | order={orderId} source=affiliate"],
            "warn_logs": []
          },
          {
            "name": "payments",
            "service": "payments",
            "min_ms": 110,
            "max_ms": 240,
            "delay_ms": [20, 40],
            "info_logs": ["charge ok | order={orderId} payment={paymentId}"],
            "warn_logs": []
          },
          {
            "name": "orders",
            "service": "orders",
            "min_ms": 80,
            "max_ms": 160,
            "delay_ms": [10, 20],
            "info_logs": ["order stored | order={orderId} shard={dbShard}"],
            "warn_logs": []
          }
        ]
      }
    ],
    "trace_rate_per_min": 160,
    "transactions": {
      "kpi": { "amount": { "min": 20.0, "max": 420.0 }, "cartSize": { "min": 1, "max": 6 } },
      "attrs": { "flow": "hot-shard", "promo": "affiliate-blast" }
    },
    "txn_rate_per_min": 470,
    "logs": {
      "service_name": "recs",
      "info_rate_per_min": 200,
      "warn_rate_per_min": 80,
      "info_messages": [
        "affiliate traffic increased | +{http.requests} rpm",
        "refresh recommendations | cohort=premium"
      ],
      "warn_messages": [
        "db shard2 hot | slow_queries++",
        "CPU high in us-east-1a | hostgroup=recs"
      ]
    }
  }
]
