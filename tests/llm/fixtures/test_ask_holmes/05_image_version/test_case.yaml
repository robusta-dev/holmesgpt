user_prompt: 'what is the image version of << { "type": "pod", "name": "sea-turtle" } >>'
expected_output:
  - The image version of the `sea-turtle` pod is either `1.23.4` or `nginx:1.23.4`.
tags:
  - kubernetes
  - easy
before_test: |
  kubectl create namespace app-05
  cat <<EOF | kubectl apply -f -
  apiVersion: v1
  kind: Pod
  metadata:
    name: sea-turtle
    namespace: app-05
    labels:
      app: analytics-engine
  spec:
    containers:
    - name: web
      image: nginx:1.23.4
      env:
      - name: VERSION
        value: "1.23.4"
      ports:
      - containerPort: 80
      resources:
        requests:
          memory: "64Mi"
          cpu: "50m"
        limits:
          memory: "128Mi"
          cpu: "100m"
      readinessProbe:
        httpGet:
          path: /
          port: 80
        initialDelaySeconds: 10
        periodSeconds: 10
        timeoutSeconds: 5
        failureThreshold: 12
  EOF
  kubectl wait --for=condition=Ready pod/sea-turtle -n app-05 --timeout=300s

after_test: |
  kubectl delete namespace app-05
