{
  "id": "40296b5c-2cb5-41df-b1f5-93441f894c44",
  "symptom": "Pod continuously crashing and restarting",
  "title": "Pod Crashlooping Debugging Runbook",
  "instruction": "# Pod Crashlooping Debugging Runbook\n\n## Overview\nThis runbook provides step-by-step instructions for debugging pods that are crashlooping (continuously crashing and restarting).\n\n## Step 1: Check Pod Status\n```bash\nkubectl get pods -n <namespace>\nkubectl describe pod <pod-name> -n <namespace>\n```\n\nLook for:\n- Restart count\n- Current status (CrashLoopBackOff, Error, etc.)\n- Events section for error messages\n\n## Step 2: Check Pod Logs\n```bash\nkubectl logs <pod-name> -n <namespace>\nkubectl logs <pod-name> -n <namespace> --previous  # Previous container logs\n```\n\nCommon issues to look for:\n- Application startup errors\n- Configuration file issues\n- Database connection failures\n- Missing environment variables\n\n## Step 3: Check Resource Constraints\n```bash\nkubectl top pod <pod-name> -n <namespace>\nkubectl describe pod <pod-name> -n <namespace> | grep -A 5 -B 5 \"Limits\\|Requests\"\n```\n\nCheck for:\n- Memory limits too low\n- CPU limits too restrictive\n- Resource quotas exceeded\n\n## Step 4: Check Configuration\n```bash\nkubectl get pod <pod-name> -n <namespace> -o yaml\n```\n\nVerify:\n- Environment variables are set correctly\n- Volume mounts are working\n- ConfigMaps and Secrets are properly referenced\n\n## Step 5: Check Dependencies\n- Database connectivity\n- External service availability\n- Network policies blocking traffic\n- Service account permissions\n\n## Common Solutions\n1. **Memory Issues**: Increase memory limits or fix memory leaks\n2. **Configuration Issues**: Fix environment variables or config files\n3. **Dependency Issues**: Ensure external services are available\n4. **Image Issues**: Check if container image is correct and accessible\n\n## Prevention\n- Set appropriate resource requests and limits\n- Use health checks (liveness and readiness probes)\n- Implement proper error handling in applications\n- Monitor resource usage and set up alerts"
}
