user_prompt: "My signup service is failing and users can't register. What should I check to debug this issue?"
tags:
  - kubernetes
  - runbooks

before_test: |
  # Create namespace
  kubectl create namespace app-162

  # Deploy the scenario
  kubectl apply -f app/secrets.yaml
  kubectl apply -f app/signup-deployment.yaml
  kubectl apply -f app/payments-deployment.yaml

  # Wait for deployments to be ready
  kubectl wait --for=condition=available --timeout=60s deployment/signup-service -n app-162
  kubectl wait --for=condition=available --timeout=60s deployment/payments-service -n app-162

  # Give services time to start and fail
  sleep 10

after_test: |
  # Clean up the scenario
  kubectl delete -f app/signup-deployment.yaml
  kubectl delete -f app/payments-deployment.yaml
  kubectl delete -f app/secrets.yaml

  # Delete namespace
  kubectl delete namespace app-162

expected_output: |
  The runbook provides systematic debugging steps for signup service issues, emphasizing the need to check the payments service dependency first. The runbook should specifically mention checking Stripe API key validation in the payments service, as this is the root cause of the signup failures.
