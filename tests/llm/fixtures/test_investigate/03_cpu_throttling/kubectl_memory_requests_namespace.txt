{"toolset_name":"kubernetes/core","tool_name":"kubectl_memory_requests_namespace","match_params":{"namespace":"default"}}
{"schema_version": "robusta:v1.0.0", "status": "success", "error": null, "return_code": 0, "data": null, "url": null, "invocation": "kubectl get pods -n default -o custom-columns=\"NAMESPACE:.metadata.namespace,NAME:.metadata.name,MEMORY_REQUEST:.spec.containers[*].resources.requests.memory\" --no-headers | \\\nawk '\n  function convert_to_mib(value) {\n    if (value ~ /^[0-9]+e[0-9]+$/) return (value + 0) / (1024 * 1024); # Scientific notation\n    if (value ~ /m$/) return (value + 0) / (1024^2 * 1000);           # Millibytes (m)\n    if (value ~ /Ei$/) return (value + 0) * 1024^6 / (1024^2);        # Binary units\n    if (value ~ /Pi$/) return (value + 0) * 1024^5 / (1024^2);\n    if (value ~ /Ti$/) return (value + 0) * 1024^4 / (1024^2);\n    if (value ~ /Gi$/) return (value + 0) * 1024^3 / (1024^2);\n    if (value ~ /Mi$/) return (value + 0);\n    if (value ~ /Ki$/) return (value + 0) / 1024;\n    if (value ~ /E$/) return (value + 0) * 1000^6 / (1024^2);         # Decimal units\n    if (value ~ /P$/) return (value + 0) * 1000^5 / (1024^2);\n    if (value ~ /T$/) return (value + 0) * 1000^4 / (1024^2);\n    if (value ~ /G$/) return (value + 0) * 1000^3 / (1024^2);\n    if (value ~ /M$/) return (value + 0) * 1000^2 / (1024^2);\n    if (value ~ /k$/) return (value + 0) * 1000 / (1024^2);\n    return (value + 0) / (1024 * 1024);                               # Default: bytes\n  }\n  function sum_memory(requests) {\n    gsub(/^[ \\t]+|[ \\t]+$/, \"\", requests);\n    if (requests == \"\" || requests == \"<none>\") return 0;\n    split(requests, arr, \",\");\n    total = 0;\n    for (i in arr) {\n      if (arr[i] != \"<none>\") total += convert_to_mib(arr[i]);\n    }\n    return total;\n  }\n  {\n    namespace = $1;\n    name = $2;\n    requests = $3;\n    for (i=4; i<=NF; i++) {\n      requests = requests \" \" $i;\n    }\n    print namespace, name, sum_memory(requests) \" Mi\";\n  }' | sort -k3 -nr", "params": {"namespace": "default"}}
default user-profile-resources-659d4dd659-9ddzf 5120 Mi
default robusta-holmes-664d749595-8kn8s 2048 Mi
default prometheus-robusta-kube-prometheus-st-prometheus-0 2048 Mi
default robusta-runner-89d8c4845-vprhv 1024 Mi
default robusta-forwarder-5c5fdbbf57-mrccs 512 Mi
default robusta-kube-state-metrics-8667fd9775-8jn28 256 Mi
default alertmanager-robusta-kube-prometheus-st-alertmanager-0 128 Mi
default frontend-service 64 Mi
default robusta-prometheus-node-exporter-7lh5v 50 Mi
default robusta-prometheus-node-exporter-2cxmv 50 Mi
default user-profile-import 0 Mi
default robusta-kube-prometheus-st-operator-6885c8f675-xqrlh 0 Mi
default robusta-grafana-8588b8fb85-rg4z5 0 Mi
default product-data-scraper-srxlw 0 Mi
default product-data-scraper-qdkd7 0 Mi
default product-data-scraper-fsk98 0 Mi
default product-data-scraper-7z9gm 0 Mi
default product-data-scraper-2s4j2 0 Mi
default payment-processing-worker-747ccfb9db-4wrhh 0 Mi
default network-connector 0 Mi
default my-http-app-deployment-75cdcff8b4-kmj67 0 Mi
default my-http-app-2-deployment-688958b7c7-svgcv 0 Mi
default meme-deployment-74db7bc95c-pzcxn 0 Mi
default meme-deployment-74db7bc95c-m68w2 0 Mi
default logging-agent 0 Mi
default java-api-checker-s5x6x 0 Mi
default java-api-checker-cwb76 0 Mi
default get-data-24bnd 0 Mi
default dnsutils-resolvconf 0 Mi
default db-certs-authenticator-757f89d977-795x7 0 Mi
default customer-relations-webapp-7c67c65579-m94rz 0 Mi
default customer-relations-webapp-7c67c65579-lqf4r 0 Mi
default customer-relations-webapp-7c67c65579-hr4wn 0 Mi
default customer-orders-6f5cbdf85-4wq74 0 Mi
default curl-deployment-6c67b4656-hlbw8 0 Mi
