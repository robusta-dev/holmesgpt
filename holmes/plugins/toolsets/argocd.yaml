toolsets:
  - name: "argocd/core"
    prerequisites:
      - command: "argocd version"

    tools:
      - name: "argocd_app_get"
        description: "Retrieve information about an existing application, such as its status and configuration"
        command: "argocd app get {{ app_name }} --show-operation -o yaml --auth-token {{ auth_token }}"

      - name: "argocd_app_diff"
        description: "Display the differences between the current state of an application and the desired state specified in its Git repository"
        command: "argocd app diff {{ app_name }} --auth-token {{ auth_token }}"

      - name: "argocd_app_list"
        description: "List the applications in Argocd"
        command: "argocd app list --auth-token {{ auth_token }}"

      - name: "argocd_app_history"
        description: "List the deployment history of an application in ArgoCD"
        command: "argocd app history {{app_name}} --app-namespace {{namespace}} --auth-token {{ auth_token }}"

      - name: "argocd_repo_list"
        description: "List all the Git repositories that ArgoCD is currently managing"
        command: "argocd repo list --auth-token {{ auth_token }}"

      - name: "argocd_proj_list"
        description: "List all available projects"
        command: "argocd proj list {{ project_name }} --auth-token {{ auth_token }}"

      - name: "argocd_proj_get"
        description: "Retrieves information about an existing project, such as its applications and policies"
        command: "argocd proj get {{ project_name }} --auth-token {{ auth_token }}"

      - name: "argocd_cluster_list"
        description: "List all known clusters"
        command: "argocd cluster list --auth-token {{ auth_token }}"
